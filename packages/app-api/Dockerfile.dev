FROM node:16-alpine

WORKDIR /app-api

COPY ./app-api/package.json package.json
COPY ./app-api/yarn.lock yarn.lock

RUN yarn install --silent

COPY ./app-api .

ENV NODE_OPTIONS=--max_old_space_size=8192

CMD ["yarn", "start-dev"]